<UserControl x:Class="FileSorterXT.Views.TransferView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <TextBlock Grid.Row="0" FontSize="22" FontWeight="SemiBold" Text="Transfer" Margin="0,0,0,10"/>

    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
      <StackPanel>

        <TextBlock Text="Move or copy a folder to another drive. This is safe for normal folders and portable apps. Installed programs (like Photoshop) usually should not be moved by folder copy." TextWrapping="Wrap" Margin="0,0,0,12"/>

        <GroupBox Header="Folder to transfer" Margin="0,0,0,10">
          <StackPanel Margin="10">
            <DockPanel>
              <TextBox x:Name="SourceFolderBox" IsReadOnly="True"/>
              <Button Content="Browse" Margin="8,4,0,10" Click="BrowseSource_Click"/>
            </DockPanel>
          </StackPanel>
        </GroupBox>

        <GroupBox Header="Destination" Margin="0,0,0,10">
          <StackPanel Margin="10">
            <DockPanel>
              <TextBox x:Name="DestFolderBox" IsReadOnly="True"/>
              <Button Content="Browse" Margin="8,4,0,10" Click="BrowseDest_Click"/>
            </DockPanel>

            <TextBlock Text="Mode" FontWeight="SemiBold"/>
            <ComboBox x:Name="TransferModeCombo" SelectedIndex="0" Margin="0,4,0,10">
              <ComboBoxItem Content="Move (default)"/>
              <ComboBoxItem Content="Copy"/>
            </ComboBox>

            <CheckBox x:Name="VerifyCheck" Content="Verify after transfer (slower, recommended for big moves)" IsChecked="True"/>
            <CheckBox x:Name="KeepNameCheck" Content="Keep folder name (destination will become Dest\FolderName)" IsChecked="True" Margin="0,4,0,0"/>
          </StackPanel>
        </GroupBox>

        <GroupBox Header="Preview and run" Margin="0,0,0,10">
          <StackPanel Margin="10">
            <DockPanel>
              <Button x:Name="PreviewButton" Content="Preview" Click="Preview_Click" MinWidth="140"/>
              <Button x:Name="RunButton" Content="Transfer" Click="Run_Click" MinWidth="140" Margin="8,4,0,10" IsEnabled="False"/>
              <Button x:Name="CancelButton" Content="Cancel" Click="Cancel_Click" MinWidth="120" Margin="8,4,0,10" IsEnabled="False"/>
              <Button Content="Open Apps Settings" Click="OpenAppsSettings_Click" MinWidth="160" Margin="8,4,0,10"/>
            </DockPanel>

            <ProgressBar x:Name="Progress" Height="18" Minimum="0" Maximum="100" Margin="0,6,0,6"/>
            <TextBlock x:Name="SummaryText" TextWrapping="Wrap"/>
            <TextBlock x:Name="StatusText" TextWrapping="Wrap" Margin="0,6,0,0"/>
          </StackPanel>
        </GroupBox>

        <GroupBox Header="Notes">
          <StackPanel Margin="10">
            <TextBlock Text="If you pick a folder inside Program Files or Windows, this tool will warn you. Many installed apps cannot be moved safely by copying folders, because they use registry entries, services, and hardcoded paths." TextWrapping="Wrap"/>
          </StackPanel>
        </GroupBox>

      </StackPanel>
    </ScrollViewer>
  </Grid>
</UserControl>
